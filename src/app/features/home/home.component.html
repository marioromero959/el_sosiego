<!-- Hero Section -->
<section class="hero">
  <div class="container">
    <div class="row align-items-center min-vh-100">
      <div class="col-lg-6 hero-content fade-in">
        <h1>Disfruta de la naturaleza en nuestra <span class="text-primary-ligth">Casa de Campo</span></h1>
        <p class="lead">Un lugar perfecto para desconectar, relajarse y disfrutar de momentos únicos rodeado de naturaleza y confort.</p>
        <div class="hero-cta">
          <a routerLink="/reservar" class="btn btn-primary btn-lg me-3">Reservar ahora</a>
          <a routerLink="/galeria" class="btn btn-outline-primary-ligth btn-lg">Ver galería</a>
        </div>
      </div>
      <div class="col-lg-6 text-center">
        <div class="booking-widget fade-in">
          <h3>¿Cuándo quieres visitarnos?</h3>
          <app-reservation-form [simplified]="true"></app-reservation-form>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- About Section -->
<section class="section about-section bg-light-custom">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6 mb-4 mb-lg-0">
        <div class="about-image">
          <img src="assets/images/gallery/img54.jpeg" alt="Casa de Campo Interior" class="img-fluid rounded shadow">
          <img src="assets/images/gallery/img31.jpeg" alt="Jardín" class="img-fluid rounded shadow img-offset">
        </div>
      </div>
      <div class="col-lg-6">
        <div class="section-heading mb-4">
          <h2>Bienvenido a nuestra <span class="text-primary">Casa de Campo</span></h2>
          <div class="heading-divider"></div>
        </div>
        <p>Situada en un entorno privilegiado, nuestra casa rural ofrece el equilibrio perfecto entre la tranquilidad del campo y el confort moderno que mereces.</p>
        <p>Nos esforzamos por brindar a nuestros huéspedes una experiencia auténtica y memorable, con atención personalizada y servicios de calidad.</p>
        <div class="features mt-4">
          <div class="feature">
            <i class="fas fa-check-circle text-primary"></i>
            <span>Habitaciones con vistas panorámicas</span>
          </div>
          <div class="feature">
            <i class="fas fa-check-circle text-primary"></i>
            <span>Comidas preparadas con productos locales</span>
          </div>
          <div class="feature">
            <i class="fas fa-check-circle text-primary"></i>
            <span>Actividades al aire libre para todas las edades</span>
          </div>
        </div>
        <a routerLink="/sobre-nosotros" class="btn btn-primary mt-4">Conoce más sobre nosotros</a>
      </div>
    </div>
  </div>
</section>

<!-- Accommodations Section -->
<section class="section accommodations-section">
  <div class="container">
    <div class="text-center mb-5">
      <h2>Nuestras <span class="text-primary">Habitaciones</span></h2>
      <div class="heading-divider mx-auto"></div>
      <p class="section-subtitle">Descubre nuestras cómodas y acogedoras opciones de hospedaje</p>
    </div>
    
    <!-- Loading Indicator -->
    <div *ngIf="isLoading" class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Cargando...</span>
      </div>
      <p class="mt-3">Cargando habitaciones...</p>
    </div>

    <!-- Rooms Grid -->
    <div class="row g-4" *ngIf="!isLoading">
      <div *ngFor="let room of rooms" class="col-md-4">
        <div class="card h-100 room-card">
          <img [src]="getFirstImageUrl(room)" class="card-img-top" [alt]="room.name">
          <div class="card-body">
            <h5 class="card-title">{{room.name}}</h5>
            <div class="room-features">
              <span><i class="fas fa-user"></i> {{room.capacity}} Personas</span>
              <span><i class="fas fa-bed"></i> {{room.beds}}</span>
              <span *ngIf="room.amenities && room.amenities.length > 0">
                <i class="fas fa-mountain"></i> {{room.amenities[0]}}
              </span>
            </div>
            <p class="card-text">{{room.description}}</p>
            <div class="d-flex justify-content-between align-items-center">
              <span class="room-price">Desde {{room.pricePerNight}}€/noche</span>
              <a routerLink="/alojamientos" class="btn btn-outline-primary">Ver detalles</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="text-center mt-5">
      <a routerLink="/alojamientos" class="btn btn-primary btn-lg">Ver todas las opciones</a>
    </div>
  </div>
</section>

<!-- Amenities Section -->
<section class="section amenities-section bg-light-custom">
  <div class="container">
    <div class="text-center mb-5">
      <h2>Nuestros <span class="text-primary">Servicios</span></h2>
      <div class="heading-divider mx-auto"></div>
      <p class="section-subtitle">Disfruta de todas nuestras instalaciones y servicios</p>
    </div>
    
    <!-- Loading Indicator -->
    <div *ngIf="isLoadingServices" class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Cargando...</span>
      </div>
      <p class="mt-3">Cargando servicios...</p>
    </div>

    <!-- Services Grid -->
    <div class="row g-4" *ngIf="!isLoadingServices">
      <div *ngFor="let service of services" class="col-md-3 col-sm-6">
        <div class="amenity-card text-center">
          <!-- <div class="amenity-icon">
            <i [class]="service.icon"></i>
          </div> -->
          <h5>{{service.name}}</h5>
          <p>{{service.description}}</p>
        </div>
      </div>

      <!-- Mensaje si no hay servicios -->
      <div *ngIf="services.length === 0" class="col-12 text-center">
        <p>No hay servicios disponibles en este momento.</p>
      </div>
    </div>
    
    <div class="text-center mt-5">
      <a routerLink="/servicios" class="btn btn-primary">Descubrir más servicios</a>
    </div>
  </div>
</section>

<!-- Testimonials Section -->
<section class="section testimonials-section">
  <div class="container">
    <div class="text-center mb-5">
      <h2>Lo que dicen <span class="text-primary">Nuestros Huéspedes</span></h2>
      <div class="heading-divider mx-auto"></div>
      <p class="section-subtitle">Experiencias compartidas por quienes han disfrutado de nuestra casa</p>
    </div>
    
    <!-- Loading Indicator -->
    <div *ngIf="isLoadingReviews" class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Cargando...</span>
      </div>
      <p class="mt-3">Cargando testimonios...</p>
    </div>

    <!-- Reviews Grid -->
    <div class="row g-4" *ngIf="!isLoadingReviews">
      <div *ngFor="let review of reviews" class="col-md-4">
        <div class="testimonial-card">
          <div class="testimonial-rating">
            <ng-container *ngFor="let i of [1,2,3,4,5]">
              <i class="fas fa-star" [class.text-warning]="i <= review.rating" [class.text-muted]="i > review.rating"></i>
            </ng-container>
          </div>
          <p class="testimonial-text">"{{review.text}}"</p>
          <div class="testimonial-author">
            <div class="testimonial-avatar">
              {{getInitial(review.name)}}
            </div>
            <div class="testimonial-info">
              <h6>{{review.name}}</h6>
              <span>Huésped verificado</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Mensaje si no hay reviews -->
      <div *ngIf="reviews.length === 0" class="col-12 text-center">
        <p>Aún no hay testimonios disponibles.</p>
      </div>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
  <div class="container text-center">
    <h2 class="text-white">¿Listo para una experiencia inolvidable?</h2>
    <p class="text-white mb-4">Reserva ahora y disfruta de momentos especiales en nuestra casa de campo</p>
    <a routerLink="/reservar" class="btn btn-light btn-lg">Reservar ahora</a>
  </div>
</section>